<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Documenta√ß√£o Meta+</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/vis/4.21.0/vis.min.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/vis/4.21.0/vis.min.css" rel="stylesheet" type="text/css" />
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #eb1b7c 0%, #af51bb 100%);
            min-height: 100vh;
            padding: 20px;
        }
        .container {
            background: white;
            border-radius: 12px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            padding: 20px;
            max-width: 1400px;
            margin: 0 auto;
        }
        h1 { text-align: center; color: #333; margin-bottom: 10px; }
        .subtitle { text-align: center; color: #666; margin-bottom: 30px; font-size: 14px; }
        #mynetwork { width: 100%; height: 700px; border: 1px solid #ddd; border-radius: 8px; background: #f9f9f9; margin-bottom: 30px; }
        .legend {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
            margin: 20px 0;
            padding: 20px 0;
            border-top: 2px solid #eee;
            border-bottom: 2px solid #eee;
        }
        .legend-item { display: flex; align-items: center; gap: 10px; padding: 8px; }
        .legend-color { width: 20px; height: 20px; border-radius: 50%; border: 2px solid #333; flex-shrink: 0; }
        .info-panel {
            margin: 20px 0;
            padding: 15px;
            background: linear-gradient(135deg, #e3f2fd 0%, #f3e5f5 100%);
            border-radius: 8px;
            border-left: 4px solid #667eea;
        }
        .stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin-top: 15px;
        }
        .stat-card { background: white; padding: 12px; border-radius: 6px; text-align: center; border: 1px solid #ddd; }
        .stat-number { font-size: 24px; font-weight: bold; color: #667eea; }
        .stat-label { font-size: 12px; color: #666; margin-top: 5px; }
        .hierarchy-section { margin-top: 40px; padding-top: 30px; border-top: 2px solid #eee; }
        .hierarchy-title { font-size: 20px; font-weight: bold; color: #333; margin-bottom: 15px; }
        .hierarchy-table { width: 100%; border-collapse: collapse; box-shadow: 0 2px 8px rgba(0,0,0,0.1); border-radius: 8px; overflow: hidden; }
        .hierarchy-table thead { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; }
        .hierarchy-table th { padding: 15px; text-align: left; font-weight: bold; font-size: 13px; }
        .hierarchy-table td { padding: 12px 15px; border-bottom: 1px solid #eee; font-size: 12px; }
        .hierarchy-table tbody tr:hover { background-color: #f5f5f5; }
        .role-badge { display: inline-block; padding: 3px 10px; border-radius: 12px; font-size: 11px; font-weight: bold; margin-right: 5px; }
        .role-gerente { background: #667eea; color: white; }
        .role-lider { background: #f093fb; color: white; }
        .role-operador { background: #4facfe; color: white; }
        .modal { display: none; position: fixed; z-index: 1000; left: 0; top: 0; width: 100%; height: 100%; background-color: rgba(0,0,0,0.5); }
        .modal-content { background: white; margin: 5% auto; padding: 30px; border-radius: 12px; width: 90%; max-width: 800px; max-height: 80vh; overflow-y: auto; box-shadow: 0 20px 60px rgba(0,0,0,0.3); }
        .close-modal { color: #aaa; float: right; font-size: 28px; font-weight: bold; cursor: pointer; }
        .close-modal:hover { color: #000; }
        .modal-title { color: #333; margin-bottom: 20px; border-bottom: 3px solid #667eea; padding-bottom: 10px; font-size: 24px; }
        .dax-explanation { background: #f5f5f5; padding: 15px; border-radius: 8px; margin-bottom: 20px; border-left: 4px solid #667eea; }
        .explanation-title { font-weight: bold; color: #333; margin-bottom: 10px; font-size: 16px; }
        .explanation-text { color: #555; line-height: 1.6; font-size: 14px; }
        .dax-code { background: #1e1e1e; color: #d4d4d4; padding: 15px; border-radius: 8px; margin-bottom: 20px; overflow-x: auto; font-family: 'Courier New', monospace; font-size: 12px; border: 1px solid #333; }
        .step-by-step { background: #e3f2fd; padding: 15px; border-radius: 8px; margin-bottom: 20px; border-left: 4px solid #4facfe; }
        .step { margin-bottom: 10px; padding-left: 20px; color: #333; font-size: 13px; line-height: 1.5; }
        .example { background: #fff9c4; padding: 12px; border-radius: 6px; border-left: 4px solid #feca57; margin-top: 15px; }
        .example-title { font-weight: bold; color: #f57f17; margin-bottom: 8px; }
    </style>
</head>
<body>
    <div class="container">
        <h1>üéØ Mapa Mental - Meta+</h1>
        <p class="subtitle">An√°lise Completa da Estrutura de Dados</p>
        
        <div class="info-panel">
            <strong>üí° Como usar:</strong> Clique nas elipses <span style="color: #fa709a; font-weight: bold;">rosa</span> ou <span style="color: #feca57; font-weight: bold;">amarela</span> para ver explica√ß√µes. Use scroll para zoom e arraste para navegar.
        </div>
        
        <div id="mynetwork"></div>

        <div class="legend">
            <div class="legend-item"><div class="legend-color" style="background: #667eea;"></div><span><strong>Fontes de Dados</strong></span></div>
            <div class="legend-item"><div class="legend-color" style="background: #f093fb;"></div><span><strong>Dimens√µes</strong></span></div>
            <div class="legend-item"><div class="legend-color" style="background: #4facfe;"></div><span><strong>Fatos</strong></span></div>
            <div class="legend-item"><div class="legend-color" style="background: #43e97b;"></div><span><strong>Calend√°rio</strong></span></div>
            <div class="legend-item"><div class="legend-color" style="background: #fa709a;"></div><span><strong>M√©tricas Clic√°veis</strong> üñ±Ô∏è</span></div>
            <div class="legend-item"><div class="legend-color" style="background: #feca57;"></div><span><strong>Resultados Clic√°veis</strong> üñ±Ô∏è</span></div>
        </div>

        <div class="info-panel">
            <strong>üìä Resumo:</strong>
            <div class="stats">
                <div class="stat-card"><div class="stat-number">48</div><div class="stat-label">Tabelas</div></div>
                <div class="stat-card"><div class="stat-number">80</div><div class="stat-label">Medidas</div></div>
                <div class="stat-card"><div class="stat-number">41</div><div class="stat-label">Relacionamentos</div></div>
            </div>
        </div>

        <div class="hierarchy-section">
            <div class="hierarchy-title">üë• Hierarquia Organizacional por N√∫cleo</div>
            <p style="color: #555; font-size: 13px; margin-bottom: 15px;">Dados obtidos do Power BI - Tabela Colaboradores</p>
            <table class="hierarchy-table">
                <thead>
                    <tr>
                        <th>üè¢ N√∫cleo</th>
                        <th>üëî Gerente</th>
                        <th>üìç L√≠der</th>
                        <th>‚öôÔ∏è Operadores</th>
                    </tr>
                </thead>
                <tbody id="hierarchyTableBody">
                    <tr><td colspan="4" style="text-align: center; padding: 20px;">Carregando dados...</td></tr>
                </tbody>
            </table>
        </div>
    </div>

    <div id="metricModal" class="modal">
        <div class="modal-content">
            <span class="close-modal">&times;</span>
            <div class="modal-title" id="modalTitle">M√©trica</div>
            <div id="modalBody"></div>
        </div>
    </div>

    <script>
        // Dados das m√©tricas
        const metricasExplicacoes = {
            40: { nome: 'üí∞ Custo Total Operador', explicacao: 'Soma dos custos de todos os operadores ativos, incluindo sal√°rios base e encargos sociais.', passos: ['Busca colaboradores com cargo = Operador', 'Filtra status Ativo', 'Soma sal√°rio mensal', 'Adiciona encargos sociais (FGTS, contribui√ß√µes)', 'Exclui custos de supervis√£o e gest√£o'], dax: '[CustoTotalOperador]', exemplo: '10 operadores √ó R$2.000 √ó 1.30 = R$26.000' },
            41: { nome: 'üëî Custo Total L√≠der', explicacao: 'Soma dos custos de l√≠deres de n√∫cleo incluindo sal√°rio, encargos e benef√≠cios.', passos: ['Identifica colaboradores com cargo = L√≠der', 'Verifica status Ativo', 'Soma sal√°rio + benef√≠cios', 'Inclui encargos sociais', 'Exclui supervisores e gerentes'], dax: '[CustoTotalLider]', exemplo: '5 l√≠deres √ó R$3.500 √ó 1.30 = R$22.750' },
            42: { nome: 'üéØ Custo Gest√£o Setor', explicacao: 'Soma dos custos de supervisores e gerentes por setor.', passos: ['Busca supervisores e gerentes', 'Filtra por setor', 'Soma sal√°rios + benef√≠cios', 'Aplica encargos (35%)', 'Agrupa por n√∫cleo'], dax: '[CustoGestaoSetor]', exemplo: '2 supervisores + 1 gerente = R$16.200' },
            43: { nome: 'üè¢ Custo Apoio', explicacao: 'Custos de RH, Financeiro, TI distribu√≠dos proporcionalmente.', passos: ['Soma RH, Financeiro, TI', 'Aplica encargos', 'Distribui proporcionalmente', 'Aloca por setor'], dax: '[CustoApoio]', exemplo: 'R$30.000 / 100 pessoas √ó 20 pessoas setor = R$6.000' },
            44: { nome: 'üìä Despesa Operacional', explicacao: 'Aluguel, √°gua, energia, internet distribu√≠dos proporcionalmente.', passos: ['Custos fixos + vari√°veis', 'Aluguel, manuten√ß√£o', '√Ågua, energia, internet', 'Distribui por setor'], dax: '[DespesaOperacional]', exemplo: 'R$55.000 √ó 20% setor = R$11.000' },
            45: { nome: 'üî¥ Impostos Receita', explicacao: 'ISS, IRRF e outros impostos sobre receita bruta.', passos: ['Receita bruta', 'ISS (5%)', 'IRRF (1,5%)', 'Soma impostos'], dax: '[ImpostosReceita]', exemplo: 'R$100.000 √ó 6,5% = R$6.500' },
            46: { nome: 'üìà Receitas', explicacao: 'Total de receitas de servi√ßos: CTB, DP, FIS.', passos: ['Notas fiscais emitidas', 'Consultoria + Due Diligence + Fiscal', 'Filtra per√≠odo'], dax: '[Receitas]', exemplo: 'R$50k + R$30k + R$20k = R$100k' },
            47: { nome: 'üí∏ Custo Total', explicacao: 'Operadores + L√≠deres + Gest√£o + Apoio + Despesas.', passos: ['Somando todos custos', 'Sem impostos'], dax: '[CustoTotal(SemImpostos)]', exemplo: 'R$26k + R$23k + R$16k + R$6k + R$11k = R$82k' },
            48: { nome: '‚è≥ Receita Retida', explicacao: 'Faturado mas n√£o recebido ainda.', passos: ['Contas a receber', 'Status n√£o pago'], dax: '[ReceitaRetida]', exemplo: 'R$35.000 pendentes' },
            49: { nome: '‚úÖ Resultado L√≠quido', explicacao: 'Receitas - Custos - Impostos.', passos: ['Receita', 'Menos custo total', 'Menos impostos'], dax: '[ResultadoLiquido]', exemplo: 'R$100k - R$82k - R$6.5k = R$11.5k' },
            50: { nome: 'üîÄ Resultado Distribuir', explicacao: 'Ap√≥s reserva legal e provis√µes.', passos: ['Resultado l√≠quido', 'Menos reserva (5%)', 'Menos provis√µes'], dax: '[ResultadoAdistribuir]', exemplo: 'R$11.5k - reserva - prov = R$10.5k' },
            51: { nome: 'üè¢ Contagem Colabs Departamento', explicacao: 'Quantidade de pessoas ativas por departamento.', passos: ['Filtra ativos', 'Agrupa por depto', 'Conta pessoas'], dax: '[ContagemSetor]', exemplo: 'RH: 3 | Fin: 5 | TI: 2' },
            52: { nome: 'üîó Contagem Colabs N√∫cleo', explicacao: 'Quantidade de pessoas ativas por n√∫cleo.', passos: ['Filtra ativos', 'Agrupa por n√∫cleo', 'Conta pessoas'], dax: '[ContagemNucleosSetor]', exemplo: 'N√∫cleo 1: 10 | N√∫cleo 2: 9' }
        };

        // Mindmap nodes
        var nodes = new vis.DataSet([
            {id: 0, label: 'Meta+', color: {background: '#667eea', border: '#4a5cc4'}, font: {size: 50, bold: true, color: '#fff'}, size: 45, shape: 'ellipse', borderWidth: 3},
            {id: 1, label: 'FONTES\nDE DADOS', color: {background: '#667eea', border: '#4a5cc4'}, font: {size: 50, bold: true, color: '#fff'}, size: 35, shape: 'ellipse', borderWidth: 2},
            {id: 2, label: 'DIMENS√ïES', color: {background: '#f093fb', border: '#d967e5'}, font: {size: 50, bold: true, color: '#fff'}, size: 35, shape: 'ellipse', borderWidth: 2},
            {id: 3, label: 'FATOS &\nM√âTRICAS', color: {background: '#4facfe', border: '#3a8dd9'}, font: {size: 50, bold: true, color: '#fff'}, size: 35, shape: 'ellipse', borderWidth: 2},
            {id: 10, label: 'Colaboradores', color: {background: '#667eea', border: '#4a5cc4'}, font: {size: 11, color: '#fff'}, size: 22, shape: 'ellipse', borderWidth: 2},
            {id: 11, label: 'Tarefas', color: {background: '#667eea', border: '#4a5cc4'}, font: {size: 11, color: '#fff'}, size: 22, shape: 'ellipse', borderWidth: 2},
            {id: 12, label: 'Contas a\nReceber', color: {background: '#667eea', border: '#4a5cc4'}, font: {size: 11, color: '#fff'}, size: 22, shape: 'ellipse', borderWidth: 2},
            {id: 13, label: 'Contas a\nPagar', color: {background: '#667eea', border: '#4a5cc4'}, font: {size: 11, color: '#fff'}, size: 22, shape: 'ellipse', borderWidth: 2},
            {id: 14, label: 'G-Click', color: {background: '#667eea', border: '#4a5cc4'}, font: {size: 11, color: '#fff'}, size: 22, shape: 'ellipse', borderWidth: 2},
            {id: 20, label: 'Clientes', color: {background: '#f093fb', border: '#d967e5'}, font: {size: 11, color: '#fff'}, size: 22, shape: 'ellipse', borderWidth: 2},
            {id: 40, label: 'Custo Total\nOperador', color: {background: '#fa709a', border: '#f04470'}, font: {size: 10, bold: true, color: '#fff'}, size: 20, shape: 'ellipse', borderWidth: 2},
            {id: 41, label: 'Custo Total\nL√≠der', color: {background: '#fa709a', border: '#f04470'}, font: {size: 10, bold: true, color: '#fff'}, size: 20, shape: 'ellipse', borderWidth: 2},
            {id: 42, label: 'Custo\nGest√£o', color: {background: '#fa709a', border: '#f04470'}, font: {size: 10, bold: true, color: '#fff'}, size: 20, shape: 'ellipse', borderWidth: 2},
            {id: 43, label: 'Custo\nApoio', color: {background: '#fa709a', border: '#f04470'}, font: {size: 10, bold: true, color: '#fff'}, size: 20, shape: 'ellipse', borderWidth: 2},
            {id: 44, label: 'Despesa\nOperacional', color: {background: '#fa709a', border: '#f04470'}, font: {size: 10, bold: true, color: '#fff'}, size: 20, shape: 'ellipse', borderWidth: 2},
            {id: 45, label: 'Impostos\nReceita', color: {background: '#fa709a', border: '#f04470'}, font: {size: 10, bold: true, color: '#fff'}, size: 20, shape: 'ellipse', borderWidth: 2},
            {id: 46, label: 'Receitas', color: {background: '#43e97b', border: '#30b85f'}, font: {size: 10, bold: true, color: '#fff'}, size: 20, shape: 'ellipse', borderWidth: 2},
            {id: 47, label: 'Custo Total', color: {background: '#43e97b', border: '#30b85f'}, font: {size: 10, bold: true, color: '#fff'}, size: 20, shape: 'ellipse', borderWidth: 2},
            {id: 48, label: 'Receita Retida', color: {background: '#43e97b', border: '#30b85f'}, font: {size: 10, bold: true, color: '#fff'}, size: 20, shape: 'ellipse', borderWidth: 2},
            {id: 49, label: 'Resultado\nL√≠quido', color: {background: '#feca57', border: '#e6b833'}, font: {size: 10, bold: true, color: '#333'}, size: 20, shape: 'ellipse', borderWidth: 2},
            {id: 50, label: 'Resultado a\nDistribuir', color: {background: '#feca57', border: '#e6b833'}, font: {size: 10, bold: true, color: '#333'}, size: 20, shape: 'ellipse', borderWidth: 2},
            {id: 51, label: 'Cont. Colabs\nDepartamento', color: {background: '#fa709a', border: '#f04470'}, font: {size: 10, bold: true, color: '#fff'}, size: 20, shape: 'ellipse', borderWidth: 2},
            {id: 52, label: 'Cont. Colabs\nN√∫cleo', color: {background: '#fa709a', border: '#f04470'}, font: {size: 10, bold: true, color: '#fff'}, size: 20, shape: 'ellipse', borderWidth: 2},
        ]);

        var edges = new vis.DataSet([
            {from: 0, to: 1, arrows: 'to', smooth: {type: 'continuous'}, width: 2.5, color: '#ccc'},
            {from: 0, to: 2, arrows: 'to', smooth: {type: 'continuous'}, width: 2.5, color: '#ccc'},
            {from: 0, to: 3, arrows: 'to', smooth: {type: 'continuous'}, width: 2.5, color: '#ccc'},
            {from: 1, to: 10, arrows: 'to'}, {from: 1, to: 11, arrows: 'to'}, {from: 1, to: 12, arrows: 'to'}, {from: 1, to: 13, arrows: 'to'}, {from: 1, to: 14, arrows: 'to'},
            {from: 2, to: 20, arrows: 'to'},
            {from: 3, to: 40, arrows: 'to', width: 2, color: '#fa709a'}, {from: 3, to: 41, arrows: 'to', width: 2, color: '#fa709a'}, {from: 3, to: 42, arrows: 'to', width: 2, color: '#fa709a'}, {from: 3, to: 43, arrows: 'to', width: 2, color: '#fa709a'}, {from: 3, to: 44, arrows: 'to', width: 2, color: '#fa709a'}, {from: 3, to: 45, arrows: 'to', width: 2, color: '#fa709a'}, {from: 3, to: 46, arrows: 'to', width: 2, color: '#43e97b'}, {from: 3, to: 47, arrows: 'to', width: 2, color: '#43e97b'}, {from: 3, to: 48, arrows: 'to', width: 2, color: '#43e97b'}, {from: 46, to: 49, arrows: 'to', width: 2.5, color: '#feca57'}, {from: 47, to: 49, arrows: 'to', width: 2.5, color: '#feca57'}, {from: 45, to: 49, arrows: 'to', width: 2.5, color: '#feca57'}, {from: 49, to: 50, arrows: 'to', width: 2.5, color: '#feca57'}, {from: 10, to: 51, arrows: 'to', width: 1.5}, {from: 10, to: 52, arrows: 'to', width: 1.5},
        ]);

        var network = new vis.Network(document.getElementById('mynetwork'), {nodes, edges}, {
            physics: {enabled: true, stabilization: {iterations: 300}, barnesHut: {gravitationalConstant: -35000, centralGravity: 0.4, springLength: 320, springConstant: 0.08}},
            interaction: {navigationButtons: true, keyboard: true, zoomView: true, dragView: true, hover: true}
        });

        network.on('click', params => {
            if (params.nodes.length > 0 && metricasExplicacoes[params.nodes[0]]) {
                const m = metricasExplicacoes[params.nodes[0]];
                document.getElementById('modalTitle').textContent = m.nome;
                document.getElementById('modalBody').innerHTML = `
                    <div class="dax-explanation">
                        <div class="explanation-title">üìã O que faz?</div>
                        <div class="explanation-text">${m.explicacao}</div>
                    </div>
                    <div class="step-by-step">
                        <div style="font-weight: bold; color: #1976d2; margin-bottom: 10px;">üîß Passos:</div>
                        ${m.passos.map(p => `<div class="step">‚Ä¢ ${p}</div>`).join('')}
                    </div>
                    <div class="dax-code">
                        <div style="font-weight: bold; color: #667eea; margin-bottom: 8px;">üíª C√≥digo DAX:</div>
                        <pre>${m.dax}</pre>
                    </div>
                    <div class="example">
                        <div class="example-title">üí° Exemplo:</div>
                        <div style="color: #555; font-size: 12px;">${m.exemplo}</div>
                    </div>`;
                document.getElementById('metricModal').style.display = 'block';
            }
        });

        document.querySelector('.close-modal').onclick = () => document.getElementById('metricModal').style.display = 'none';
        window.onclick = e => { if (e.target.id === 'metricModal') e.target.style.display = 'none'; };

        // Dados reais do Power BI
        const colaboradoresData = {
            "Onboarding": {"gerentes": [], "lideres": ["MONICA RODRIGUES"], "operadores": ["ADMES COSTA", "BRUNA ROATTI DE LIMA", "JANAINA TEIXEIRA", "JAQUELINE OLIVEIRA", "LUAN SANTOS"]},
            "Apoio": {"gerentes": ["UILIAN MARTINS"], "lideres": ["CAREN MENDES", "JULIANA PRADO DELFINO", "LETICIA CARDOSO DE OLIVEIRA"], "operadores": ["ALEXANDRE COSTA", "ANDRESSA OLIVEIRA", "BIANCA SILVA", "CAROLINE DA SILVA GODOY", "CAROLINE SILVEIRA", "DIENIFER MUNHOZ", "FERNANDA SOARES", "GIOVANA DONATO", "GLORIA FLORES", "GUILHERME CARDOSO", "IGOR VERDUM", "JEAN LARREA", "LAURA PEREIRA COSTA", "LEONARDO GOMES DOS SANTOS", "MANOELA F√ÉO", "PRISCILA LIMA", "THOMAS RAULIN", "HELENA SETTI"]},
            "Societ‚îú√≠rio": {"gerentes": ["GABRIELA AMORIM"], "lideres": [], "operadores": ["DAIANA ALVES", "JESSICA DUARTE", "JO‚îú√ªO ARA‚îú‚ïëJO", "KATIA BICA", "WESLLEY WITER"]},
            "FIS - ELISEU": {"gerentes": [], "lideres": ["ELISEU SILVEIRA DE ABREU"], "operadores": ["CLOVIS ROBERTO GUTIERRES", "JEANILCE GONCALVES", "THOMAS PAZ DOS SANTOS"]},
            "Comercial": {"gerentes": [], "lideres": [], "operadores": ["FELIPE SCHENKEL"]},
            "CTB - PASSO FUNDO": {"gerentes": ["TAIS CERON"], "lideres": [], "operadores": ["DOUGLAS DA CRUZ SILVA", "LARISSA MACIEL VALENDORF", "NICOLY MONTEIRO VIEIRA", "SUELEN DILLY"]},
            "DP - PASSO FUNDO": {"gerentes": ["TAIS CERON"], "lideres": ["ANA LETICIA NUNES BIGATAO"], "operadores": ["NAIARA ROOS MENTZ"]},
            "FIS - PASSO FUNDO": {"gerentes": ["TAIS CERON"], "lideres": ["CASSIO SCHALLENBERG ANHAIA"], "operadores": ["ANTONIA ALAINE", "LUCILEIA ALMEIDA", "MICHELE ROSSI", "L‚îúCDVIA LAURINDO"]},
            "DP - BRUNA": {"gerentes": ["JONATHAN HENRIQUE DOS SANTOS"], "lideres": ["BRUNA SCHWARZER BRENTANO"], "operadores": ["ANDERSON DA SILVA FALEIRO", "HELEN DOS SANTOS KRUGER", "NAT‚îúLS CONCEI‚îú¬∫‚îú√ªO", "TANISE BRITO", "EVELYN VICTORIA DA ROSA MONTEIRO"]},
            "DP - DAIANY": {"gerentes": ["JONATHAN HENRIQUE DOS SANTOS"], "lideres": ["DAIANY ARAUJO"], "operadores": ["SABRINA UTZ", "ANDRIUS DA SILVA FALEIRO", "CAMILA BUENO TAROCO", "EORIDES DE ALENCASTRO PIRES", "GRAZIELLE LOBATO FLORES"]},
            "CTB - DANIEL": {"gerentes": ["UILIAN MARTINS"], "lideres": ["DANIEL ANDERSON DA SILVA CHAVES"], "operadores": ["GABRIEL MACHADO", "ALICE WENDT", "DANIEL ANDERSON DA SILVA CHAVES", "GABRIELLA MACEDO LONGARAY", "GLAUCIUS BANDEIRA", "LISLAINE VELOSO", "MONICA STROSSI NUNES", "PETER BERNARDI VASQUES", "VINICIO TEIXEIRA FONTOURA", "YAGO MOREIRA MARTINS"]},
            "FIS - RAQUEL LEOTTE": {"gerentes": ["RAQUEL LEOTTE"], "lideres": [], "operadores": ["DOUGLAS ANTONIO ANTUNES MACHADO", "JANINE DE SOUZA CARVALHO", "KEOMA ALEXSANDER DA ROCHA", "LIDIA MARGANE DE OLIVEIRA GUTERRES", "LISIAN MACHADO DOS SANTOS", "ROSEMERI FERNANDES DA SILVA"]},
            "DP - JULIANA": {"gerentes": ["JONATHAN HENRIQUE DOS SANTOS"], "lideres": ["DAIANY ARAUJO"], "operadores": ["ANA PAULA LESSING VIEIRA", "ANDRESSA SANTOS", "CAMILA COSTA SANTOS", "GABRIELA QUINTANA"]},
            "CTB - KATIRA": {"gerentes": ["UILIAN MARTINS"], "lideres": ["KATIRA ESPINDOLA MAGALHAES"], "operadores": ["ANDERSON OLIVEIRA DORNELES", "ANIELLY CRISTY RODRIGUES DE OLIVEIRA", "BRUNA OLIVEIRA DA SILVA", "JECKSON LUIZ MESSIAS DE ANDRADE", "LEANDRO BRUM TOEBE", "LIANET MIRAVET CABRERA", "MARCELO DOS SANTOS", "RAFAEL DA SILVA SANTOS"]},
            "FIS - EVELIN": {"gerentes": ["RAQUEL LEOTTE"], "lideres": ["EVELIN MACHADO DE LIMA"], "operadores": ["CLAUDIA DE OLIVEIRA PONS", "JESSICA ROBERTA VIEIRA OLIVEIRA", "KARINA RIBEIRO LEITES"]},
            "FIS - Iago": {"gerentes": ["RAQUEL LEOTTE"], "lideres": ["IAGO DA SILVA LEHN"], "operadores": ["DARLISE DA SILVA VARGAS ROQUE", "LEANDRA MARIA DE AZAMBUJA PEREIRA", "LIRIEL XAVIER", "PEDRO OLIVEIRA SALERNO"]},
            "FIS - JESSICA SUANE": {"gerentes": ["RAQUEL LEOTTE"], "lideres": ["JESSICA SUANE DA SILVA"], "operadores": ["LUCIANA SCHUTZ DE OLIVEIRA", "LUISA SOARES PEREIRA"]},
            "CTB - PRISCILLA": {"gerentes": ["UILIAN MARTINS"], "lideres": ["DANIEL ANDERSON DA SILVA CHAVES"], "operadores": ["ALESSANDRA DIAS RODRIGUES", "ANA PAULA DIAS GULMINI", "ANA PAULA RIBEIRO DA SILVA", "CLARISSA MELO SOARES", "ESTHER CAMARA DA SILVA", "GABRIELLE DIAS HALLOUCHE", "JESSICA DA SILVA PEIXOTO", "THAINA MEDEIROS DA SILVA"]},
            "DP - LAURA ASSIS": {"gerentes": ["JONATHAN HENRIQUE DOS SANTOS"], "lideres": ["LAURA ASSIS"], "operadores": ["ANA CAROLINA DE SOUZA SILVEIRA", "JANICE SCHNEIDER", "NATHALIA TESSARO DA SILVA", "NOE DA SILVEIRA MAIA", "RAFAELLA VARGAS SILVA"]},
            "CTB SAP - Bianca": {"gerentes": [], "lideres": ["BIANCA DAPPER"], "operadores": ["ALINE DIETRICH", "FABRICIO DE SOUZA GONCALVES VIVAN", "GUSTAVO DA CUNHA", "NATALIA KICH", "PEDRO BORSATTO", "RENAN JUNGES"]},
            "DP SAP - Ana": {"gerentes": ["DALILA BERNARDI"], "lideres": ["EVA CAROLINE"], "operadores": ["ANA WAGNER", "EDUARDA KOLLER", "GIOVANA LUDWIG", "INGRID DORNELES", "JULIA MENDES", "MARINALVA HAGMANN", "NATALHA PAZ", "PAMELA ROSA"]},
            "CTB SAP - Josiane": {"gerentes": [], "lideres": ["JOSIANE SANTOS"], "operadores": ["ELUANA MARCON", "JANAINA DA FONSECA CASSERE", "JAQUELINE WEYERMULLER", "LISANDRA GOMES", "LUIZA SOUZA", "MAIARA BEAL", "MICAELA CIGERZA"]},
            "FIS SAP - Tamires": {"gerentes": ["DALILA BERNARDI"], "lideres": ["TAMIRES POSSER"], "operadores": ["BRUNA VEBER", "DANIELI ZIMMERMANN", "FRANCIELI PIOVESAN", "GABRIEL DA SILVA VILA REAL DA ROSA", "KETLYN RAMOS", "LUANA BUENO", "LUANA SORIA", "RAISSA BUENO", "THONNY GOES"]},
            "FIS SAP - Raquel": {"gerentes": ["DALILA BERNARDI"], "lideres": ["RAQUEL GUSE"], "operadores": ["ANNA CAROLINA FRONER ALBARELLO", "CLAIR MARCO", "DENISE DE FATIMA LENZ", "HELLEN CASAGRANDE DA VEIGA", "JANAINA BUENO", "KAUANA OLIVEIRA", "MARIANA FELIX", "MATEUS SANTOS"]}
        };

        document.addEventListener('DOMContentLoaded', () => {
            const tbody = document.getElementById('hierarchyTableBody');
            tbody.innerHTML = '';
            
            Object.entries(colaboradoresData).forEach(([nucleo, data]) => {
                const gerentes = data.gerentes.length > 0 ? data.gerentes.map(g => `<span class="role-badge role-gerente">${g}</span>`).join('<br>') : '-';
                const lideres = data.lideres.length > 0 ? data.lideres.map(l => `<span class="role-badge role-lider">${l}</span>`).join('<br>') : '-';
                const operadores = data.operadores.length > 0 ? `${data.operadores.length} operadores` : '-';
                const total = (data.gerentes.length + data.lideres.length + data.operadores.length);
                
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td><strong>${nucleo}</strong></td>
                    <td>${gerentes}</td>
                    <td>${lideres}</td>
                    <td>${operadores}</td>
                `;
                tbody.appendChild(row);
            });
        });
    </script>
</body>
</html>
